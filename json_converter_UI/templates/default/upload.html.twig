{% extends 'base.html.twig' %}

{% block title %}Upload a File{% endblock %}

{% block body %}
  <h1>Upload a File</h1>
  {% if error is defined %}
    <div class="alert alert-danger">{{ error }}</div>
  {% endif %}
  <form method="post" enctype="multipart/form-data" id="upload-form">
    <div class="form-group">
      <label for="input-file">Choose a file:</label>
      <input type="file" id="input-file" name="input-file" class="form-control" required>
    </div>
    <button type="submit" class="btn btn-primary">Upload</button>
  </form>
{% endblock %}

{% block javascripts %}
  <script>
    console.log("JavaScript code loaded successfully.");
    
    const form = document.querySelector('#upload-form');
    console.log(form);
    
    const inputFile = document.querySelector('#input-file');
    console.log(inputFile);
    
    form.addEventListener('submit', function(event) {
      const file = inputFile.files[0];
      if (!file) {
        event.preventDefault();
        alert('Please choose a file.');
      }
    });
  </script>
{% endblock %}


